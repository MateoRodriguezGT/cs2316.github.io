<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>Classes and Objects</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="reveal.js/css/theme/gt.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
  <h1 class="title">Classes and Objects</h1>
</section>

<section id="python-is-object-oriented" class="slide level1">
<h1>Python is Object-Oriented</h1>
<p>Every value in Python is an object, meaning an instance of a class. Even values that are considered &quot;primitive&quot; in some other languages.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="bu">type</span>(<span class="dv">1</span>)
<span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;int&#39;</span><span class="op">&gt;</span></code></pre></div>
</section>
<section id="class-definitions" class="slide level1">
<h1>Class Definitions</h1>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> <span class="op">&lt;</span>class_name<span class="op">&gt;</span>(<span class="op">&lt;</span>superclasses<span class="op">&gt;</span>):
    <span class="op">&lt;</span>body<span class="op">&gt;</span></code></pre></div>
<ul>
<li><code>&lt;class_name&gt;</code> is an identifier</li>
<li><code>&lt;superclasses&gt;</code> is a comma-separated list of superclasses. Can be empty, in which case <code>object</code> is implicit superclass</li>
<li><code>&lt;body&gt;</code> is a non-empty sequence of statements</li>
</ul>
<p>A class definition creates a class object in much the same way that a function definition creates a function object.</p>
</section>
<section id="class-attributes" class="slide level1">
<h1>Class Attributes</h1>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Stark:
    creator <span class="op">=</span> <span class="st">&quot;George R.R. Martin&quot;</span>
    words <span class="op">=</span> <span class="st">&quot;Winter is coming&quot;</span>
    sigil <span class="op">=</span> <span class="st">&quot;Direwolf&quot;</span>
    home <span class="op">=</span> <span class="st">&quot;Winterfell&quot;</span>

    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name<span class="op">=</span><span class="va">None</span>):
        <span class="va">self</span>.name <span class="op">=</span> name <span class="cf">if</span> name <span class="cf">else</span> <span class="st">&quot;No one&quot;</span>

    <span class="kw">def</span> full_name(<span class="va">self</span>):
        <span class="cf">return</span> <span class="st">&quot;{} Stark&quot;</span>.<span class="bu">format</span>(<span class="va">self</span>.name)</code></pre></div>
<p><code>creator</code>, <code>words</code>, <code>sigil</code>, and <code>home</code> are <em>class attributes</em>. Class attributes belong to the class and are shared by all instances</p>
</section>
<section id="instance-attributes" class="slide level1">
<h1>Instance Attributes</h1>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Stark:
    creator <span class="op">=</span> <span class="st">&quot;George R.R. Martin&quot;</span>
    words <span class="op">=</span> <span class="st">&quot;Winter is coming&quot;</span>
    sigil <span class="op">=</span> <span class="st">&quot;Direwolf&quot;</span>
    home <span class="op">=</span> <span class="st">&quot;Winterfell&quot;</span>

    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name<span class="op">=</span><span class="va">None</span>):
        <span class="va">self</span>.name <span class="op">=</span> name <span class="cf">if</span> name <span class="cf">else</span> <span class="st">&quot;No one&quot;</span>

    <span class="kw">def</span> full_name(<span class="va">self</span>):
        <span class="cf">return</span> <span class="st">&quot;{} Stark&quot;</span>.<span class="bu">format</span>(<span class="va">self</span>.name)</code></pre></div>
<ul>
<li><code>self.name</code> is an instance attribute becuase it is prefaced with <code>self.</code> and defined in a method that has a first parameter named <code>self</code>. Each instance of the class has its own copies of instance attributes.</li>
<li><code>full_name</code> is an instance method because it defined in a class and has at least one parameter. The first parameter is implicitly a reference to the instance on which a method is called.</li>
</ul>
</section>
<section id="classes-and-objects" class="slide level1">
<h1>Classes and Objects</h1>
<p>In this example, <code>ned</code> and <code>robb</code> are <em>instances</em> of <code>Stark</code>. Each instance has it's own <code>name</code>.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> got
<span class="op">&gt;&gt;&gt;</span> ned <span class="op">=</span> got.Stark(<span class="st">&quot;Eddard&quot;</span>)
<span class="op">&gt;&gt;&gt;</span> ned.name
<span class="co">&#39;Eddard&#39;</span>
<span class="op">&gt;&gt;&gt;</span> robb <span class="op">=</span> got.Stark(<span class="st">&quot;Robb&quot;</span>)
<span class="op">&gt;&gt;&gt;</span> robb.name
<span class="co">&#39;Robb&#39;</span></code></pre></div>
<p>Ivoking the <code>full_name()</code> method on an object implicitly passes the object as the first argument (<code>self</code>), which you could (but shoudn't) do explicitly:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> ned.full_name()          <span class="co"># This is normal</span>
<span class="co">&#39;Eddard Stark&#39;</span>
<span class="op">&gt;&gt;&gt;</span> got.Stark.full_name(ned) <span class="co"># This is only instructive</span>
<span class="co">&#39;Eddard Stark&#39;</span></code></pre></div>
</section>
<section id="class-members" class="slide level1">
<h1>Class Members</h1>
<p>Each instance shares the class attributes <code>creator</code>, <code>words</code>, <code>sigil</code>, and <code>home</code>.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> got.Stark.sigil
<span class="co">&#39;Direwolf&#39;</span>
<span class="op">&gt;&gt;&gt;</span> ned.sigil
<span class="co">&#39;Direwolf&#39;</span>
<span class="op">&gt;&gt;&gt;</span> robb.sigil
<span class="co">&#39;Direwolf&#39;</span></code></pre></div>
<p>Remember that the <code>is</code> operator returns <code>True</code> if its operands reference the same object in memory. So this deomonstrates that <code>sigil</code> is shared between the <code>Stark</code> class and all instances of the <code>Stark</code> class:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> got.Stark.sigil <span class="op">is</span> ned.sigil
<span class="va">True</span></code></pre></div>
</section>
<section id="superclasses" class="slide level1">
<h1>Superclasses</h1>
<p>Superclasses, or parent classes, or base classes, define attributes that you wish to be common to a family of objects.</p>
<p>Notice that all of our noble houses have the same creator, and every instance has a name. We can represent this commonality by creating a base class for all house classes:</p>
<pre><code>class GotCharacter:
    creator = &quot;George R.R. Martin&quot;

    def __init__(self, name=None):
        self.name = name if name else &quot;No one&quot;</code></pre>
</section>
<section id="refactored-stark" class="slide level1">
<h1>Refactored <code>Stark</code></h1>
<p>Here is <code>Stark</code> refactored to use the <code>GotCharacter</code> superclass:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> Stark(GotCharacter):
    words <span class="op">=</span> <span class="st">&quot;Winter is coming&quot;</span>
    sigil <span class="op">=</span> <span class="st">&quot;Direwolf&quot;</span>
    home <span class="op">=</span> <span class="st">&quot;Winterfell&quot;</span>

    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):
        <span class="co"># This is how you invoke a superclass method</span>
        <span class="bu">super</span>().<span class="fu">__init__</span>(name)</code></pre></div>
<p>Exercise: refactor the other GoT houses to use the <code>GotCharacter</code> superclass.</p>
</section>
<section id="magic-a.k.a.-dunder-methods" class="slide level1">
<h1>Magic, a.k.a., <strong>Dunder</strong> Methods</h1>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="kw">class</span> SuperTrooper(Trooper):

    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, is_mustached):
        <span class="bu">super</span>().<span class="fu">__init__</span>(name)
        <span class="va">self</span>.is_mustached <span class="op">=</span> is_mustached

    <span class="co"># Used by print()</span>
    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):
        <span class="cf">return</span> <span class="st">&quot;&lt;{} {}&gt;&quot;</span>.<span class="bu">format</span>(<span class="va">self</span>.name, <span class="st">&quot;:-{&quot;</span> <span class="cf">if</span> <span class="va">self</span>.is_mustached <span class="cf">else</span> <span class="st">&quot;:-|&quot;</span>)

    <span class="co"># Used by REPL</span>
    <span class="kw">def</span> <span class="fu">__repr__</span>(<span class="va">self</span>):
        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>)

    <span class="co"># Makes instances of SuperTrooper orderable</span>
    <span class="kw">def</span> <span class="fu">__lt__</span>(<span class="va">self</span>, other):
        <span class="cf">if</span> <span class="va">self</span>.is_mustached <span class="op">and</span> <span class="op">not</span> other.is_mustached:
            <span class="cf">return</span> <span class="va">False</span>
        <span class="cf">elif</span> <span class="op">not</span> <span class="va">self</span>.is_mustached <span class="op">and</span> other.is_mustached:
            <span class="cf">return</span> <span class="va">True</span>
        <span class="cf">else</span>:
            <span class="cf">return</span> <span class="va">self</span>.name <span class="op">&lt;</span> other.name</code></pre></div>
</section>
<section id="sortable-supertroopers" class="slide level1">
<h1>Sortable <code>SuperTrooper</code>s</h1>
<p>With the definition of <code>__lt__(self, other)</code> in <code>SuperTrooper</code>, a list of <code>SuperTrooper</code>s is sortable.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">    sts <span class="op">=</span> [SuperTrooper(<span class="st">&quot;Thorny&quot;</span>, <span class="va">True</span>),
           SuperTrooper(<span class="st">&quot;Mac&quot;</span>, <span class="va">True</span>),
           SuperTrooper(<span class="st">&quot;Rabbit&quot;</span>, <span class="va">True</span>),
           SuperTrooper(<span class="st">&quot;Farva&quot;</span>, <span class="va">True</span>),
           SuperTrooper(<span class="st">&quot;Foster&quot;</span>, <span class="va">False</span>)]
    <span class="bu">print</span>(<span class="st">&quot;SuperTroopers:&quot;</span>)
    <span class="bu">print</span>(sts)
    <span class="bu">print</span>(<span class="st">&quot;SuperTroopers sorted by mustache, then by name:&quot;</span>)
    <span class="bu">print</span>(<span class="bu">sorted</span>(sts))</code></pre></div>
<p>Produces:</p>
<pre class="sh"><code>SuperTroopers:
[&lt;Thorny :-{&gt;, &lt;Mac :-{&gt;, &lt;Rabbit :-{&gt;, &lt;Farva :-{&gt;, &lt;Foster :-|&gt;]
SuperTroopers sorted by mustache, then by name:
[&lt;Foster :-|&gt;, &lt;Farva :-{&gt;, &lt;Mac :-{&gt;, &lt;Rabbit :-{&gt;, &lt;Thorny :-{&gt;]</code></pre>
</section>
<section id="conclusion" class="slide level1">
<h1>Conclusion</h1>
<p>Magic!</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/az5qOjhsang" frameborder="0" allowfullscreen>
</iframe>
</section>
    </div>
  </div>

  <script src="reveal.js/lib/js/head.min.js"></script>
  <script src="reveal.js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display a presentation progress bar
        progress: true,
        // Display the page number of the current slide
        slideNumber: 'c/t',

        // Optional reveal.js plugins
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: 'reveal.js/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
